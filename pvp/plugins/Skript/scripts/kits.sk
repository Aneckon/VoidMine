# ============================================
# –°–ò–°–¢–ï–ú–ê –ö–Ü–¢–Ü–í –ó –†–ï–î–ê–ì–£–í–ê–ù–ù–Ø–ú
# ============================================

function createBorderKits(inv: inventory):
	loop integers from 0 to 8:
		set slot loop-value of {_inv} to black stained glass pane named " "
	loop integers from 36 to 44:
		set slot loop-value of {_inv} to black stained glass pane named " "
	set slot 9 of {_inv} to black stained glass pane named " "
	set slot 17 of {_inv} to black stained glass pane named " "
	set slot 18 of {_inv} to black stained glass pane named " "
	set slot 26 of {_inv} to black stained glass pane named " "
	set slot 27 of {_inv} to black stained glass pane named " "
	set slot 35 of {_inv} to black stained glass pane named " "

function initKits():
	set {kit::iron::helmet} to iron helmet
	set {kit::iron::chestplate} to iron chestplate
	set {kit::iron::leggings} to iron leggings
	set {kit::iron::boots} to iron boots
	set {kit::iron::items::*} to iron sword, bow, 16 arrows, 16 cooked beef and 3 golden apples
	set {kit::iron::offhand} to shield
	set {kit::iron::display} to "–ñ–µ–ª–µ–∑–Ω—ã–π —Å–µ—Ç"
	set {kit::iron::lore::*} to "&8‚ùñ &7–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –±—Ä–æ–Ω—è", "&8‚§∑ &7–ú–µ—á + –õ—É–∫ + 16 —Å—Ç—Ä–µ–ª", " " and "&8‚ñ∂ &f–ù–∞–∂–º–∏ —á—Ç–æ–±—ã –≤—ã–±—Ä–∞—Ç—å"
	
	set {kit::archer::helmet} to chainmail helmet
	set {kit::archer::chestplate} to chainmail chestplate
	set {kit::archer::leggings} to chainmail leggings
	set {kit::archer::boots} to chainmail boots
	set {kit::archer::items::*} to stone sword, bow, 64 arrows, 64 arrows, 16 cooked beef and 3 golden apples
	set {kit::archer::offhand} to 64 arrows
	set {kit::archer::display} to "–õ—É—á–Ω–∏–∫"
	set {kit::archer::lore::*} to "&8‚ùñ &7–õ–µ–≥–∫–∞—è –±—Ä–æ–Ω—è", "&8‚§∑ &7–ú–µ—á + –õ—É–∫ + 128 —Å—Ç—Ä–µ–ª", " " and "&8‚ñ∂ &f–ù–∞–∂–º–∏ —á—Ç–æ–±—ã –≤—ã–±—Ä–∞—Ç—å"
	
	set {kit::netherite::display} to "–ù–µ–∑–µ—Ä–∏—Ç–æ–≤—ã–π —Å–µ—Ç"
	set {kit::netherite::lore::*} to "&8‚ùñ &7–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –±—Ä–æ–Ω—è", "&8‚§∑ &7–¢–æ—Ç–µ–º –±–µ—Å—Å–º–µ—Ä—Ç–∏—è", "&8‚§∑ &7–≠–Ω–¥–µ—Ä-–∂–µ–º—á—É–≥ x4", " " and "&8‚ñ∂ &f–ù–∞–∂–º–∏ —á—Ç–æ–±—ã –≤—ã–±—Ä–∞—Ç—å"

on load:
	initKits()

function getKitDisplayItem(kit: text) :: item:
	set {_textures::iron} to "eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvMzQzZTgzNTg4ZTk2NWM4MzU5ZTY0YmJjN2ZlNTNmNDgxY2NhNGY3ZmM2YzI3NzE0ZTRlYWNlOWY1ZTliMDhiZCJ9fX0="
	set {_textures::archer} to "eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvOTU3MmY4ZjY0OGI3Y2RjYmYxOTAzZWQ0YjE1MWE0ZjI2NWI3NjQyNjI2NzRkMmI5NjE2MjExNTkzMjY1YTBkMCJ9fX0="
	set {_textures::netherite} to "eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvZTViMzE3MjM2MDNjYjA3YzE1MGUzNGQ2NWJlODhlNWE2MWFhNDY0NGFhNjI2Y2RlNTI0ZjNiZDg2MTRmY2QyOSJ9fX0="
	return head from value {_textures::%{_kit}%}

command /mykits:
	trigger:
		openMyKitsMenu(player)

function openMyKitsMenu(p: player):
	open virtual chest inventory with 5 rows named "&7‚öî –ú–æ–∏ –ö–∏—Ç—ã" to {_p}
	wait 1 tick
	
	createBorderKits({_p}'s current inventory)
	
	set {_create} to head from value "eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvM2VkZDIwYmU5MzUyMDk0OWU2Y2U3ODlkYzRmNDNlZmFlYjI4YzcxN2VlNmJmY2JiZTAyNzgwMTQyZjcxNiJ9fX0="
	set name of {_create} to "&c‚úö –°–æ–∑–¥–∞—Ç—å –ù–æ–≤—ã–π –ö–∏—Ç"
	set lore of {_create} to "&8‚ùñ &7–°–æ–∑–¥–∞–π —Å–≤–æ–π —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∫–∏—Ç", "&8‚§∑ &7–ù–∞—Å—Ç—Ä–æ–π –±—Ä–æ–Ω—é –∏ –ø—Ä–µ–¥–º–µ—Ç—ã", " " and "&8‚ñ∂ &f–ù–∞–∂–º–∏ —á—Ç–æ–±—ã —Å–æ–∑–¥–∞—Ç—å"
	set slot 4 of {_p}'s current inventory to {_create}
	
	set {_kits::*} to "iron", "archer" and "netherite"
	
	loop 3 times:
		set {_kitIndex} to loop-number
		set {_kit} to {_kits::%{_kitIndex}%}
		set {_item} to getKitDisplayItem({_kit})
		
		if {player.active.kit.%{_p}%} is {_kit}:
			set name of {_item} to "&c‚úì %{kit::%{_kit}%::display}% &7(–ê–∫—Ç–∏–≤–µ–Ω)"
		else:
			set name of {_item} to "&7‚öî %{kit::%{_kit}%::display}%"
		
		set lore of {_item} to {kit::%{_kit}%::lore::*}
		add "" to lore of {_item}
		add "&8‚ñ∂ &f–õ–ö–ú - –í—ã–±—Ä–∞—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–º" to lore of {_item}
		add "&8‚ñ∂ &f–ü–ö–ú - –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ" to lore of {_item}
		
		set slot (9 + {_kitIndex}) of {_p}'s current inventory to {_item}
	
	if {custom.kits.%{_p}%::*} is set:
		if size of {custom.kits.%{_p}%::*} > 0:
			set {_slotIndex} to 13
			
			loop {custom.kits.%{_p}%::*}:
				set {_customKit} to loop-value
				
				if {custom.kit.%{_p}%.%{_customKit}%::display.item} is set:
					set {_item} to {custom.kit.%{_p}%.%{_customKit}%::display.item}
					
					if {player.active.kit.%{_p}%} is "custom_%{_customKit}%":
						set name of {_item} to "&c‚úì %{_customKit}% &7(–ê–∫—Ç–∏–≤–µ–Ω)"
					else:
						set name of {_item} to "&6‚öî %{_customKit}%"
					
					set lore of {_item} to ""
					add "&8‚ñ∂ &f–õ–ö–ú - –í—ã–±—Ä–∞—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–º" to lore of {_item}
					add "&8‚ñ∂ &f–ü–ö–ú - –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å" to lore of {_item}
					
					set slot {_slotIndex} of {_p}'s current inventory to {_item}
					add 1 to {_slotIndex}
					
					if {_slotIndex} > 34:
						stop loop
	
	set {_back} to head from value "eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvOTBlMGE0ZDQ4Y2Q4MjlhNmQ1ODY4OTA5ZDY0M2ZhNGFmZmQzOWU4YWU2Y2FhZjZlYzc5NjA5Y2Y3NjQ5YjFjIn19fQ=="
	set name of {_back} to "&c‚Æú –ù–∞–∑–∞–¥"
	set lore of {_back} to "&8‚ñ∂ &7–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –ø—Ä–æ—Ñ–∏–ª—å"
	set slot 40 of {_p}'s current inventory to {_back}

on inventory click:
	set {_invName} to name of event-inventory
	
	if {_invName} is "&7‚öî –ú–æ–∏ –ö–∏—Ç—ã":
		cancel event
		set {_slot} to index of event-slot
		
		if {_slot} is 4:
			playClickSound(player)
			close player's inventory
			send "&c‚öî –í–≤–µ–¥–∏ –Ω–∞–∑–≤–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∫–∏—Ç–∞ &7(–±–µ–∑ –ø—Ä–æ–±–µ–ª–æ–≤):"
			set {kit.creating.%player%} to true
			stop
		
		if {_slot} is 10 or 11 or 12:
			set {_kits::*} to "iron", "archer" and "netherite"
			
			if {_slot} is 10:
				set {_kit} to "iron"
			else if {_slot} is 11:
				set {_kit} to "archer"
			else if {_slot} is 12:
				set {_kit} to "netherite"
			
			if click type is left mouse button:
				playSuccessSound(player)
				set {player.active.kit.%player%} to {_kit}
				send "&c‚úì –ê–∫—Ç–∏–≤–Ω—ã–π –∫–∏—Ç: &f%{kit::%{_kit}%::display}%"
				wait 2 ticks
				openMyKitsMenu(player)
				stop
			
			if click type is right mouse button:
				playClickSound(player)
				close player's inventory
				wait 2 ticks
				send "&7–ü—Ä–æ—Å–º–æ—Ç—Ä –∫–∏—Ç–∞ –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω –ø–æ–∑–∂–µ..."
				stop
		
		if {_slot} >= 13:
			if {_slot} <= 34:
				if {custom.kits.%player%::*} is set:
					set {_kitIndex} to {_slot} - 13
					
					if {_kitIndex} < size of {custom.kits.%player%::*}:
						set {_customKit} to {custom.kits.%player%::%{_kitIndex} + 1%}
						
						if player is sneaking:
							if click type is right mouse button:
								playErrorSound(player)
								delete {custom.kit.%player%.%{_customKit}%::*}
								remove {_customKit} from {custom.kits.%player%::*}
								
								if {player.active.kit.%player%} is "custom_%{_customKit}%":
									delete {player.active.kit.%player%}
								
								send "&c‚öî –ö–∏—Ç &6%{_customKit}% &c—É–¥–∞–ª–µ–Ω!"
								wait 1 tick
								openMyKitsMenu(player)
								stop
						
						if click type is right mouse button:
							if player is not sneaking:
								playClickSound(player)
								close player's inventory
								wait 2 ticks
								openKitEditor(player, {_customKit})
								stop
						
						if click type is left mouse button:
							playSuccessSound(player)
							set {player.active.kit.%player%} to "custom_%{_customKit}%"
							send "&c‚úì –ê–∫—Ç–∏–≤–Ω—ã–π –∫–∏—Ç: &6%{_customKit}%"
							wait 2 ticks
							openMyKitsMenu(player)
							stop
		
		if {_slot} is 40:
			playClickSound(player)
			close player's inventory
			execute player command "profilemenu"

on chat:
	# –ö–†–ò–¢–ò–ß–ù–û: –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ —á–∏ –≥—Ä–∞–≤–µ—Ü—å —Å—Ç–≤–æ—Ä—é—î –∫—ñ—Ç
	if {kit.creating.%player%} is not true:
		stop  # –Ø–∫—â–æ –ù–ï —Å—Ç–≤–æ—Ä—é—î - –∑—É–ø–∏–Ω—è—î–º–æ –æ–±—Ä–æ–±–∫—É
	
	# –¢–µ–ø–µ—Ä –∫–æ–¥ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è –¢–Ü–õ–¨–ö–ò —è–∫—â–æ –≥—Ä–∞–≤–µ—Ü—å —Å—Ç–≤–æ—Ä—é—î –∫—ñ—Ç
	cancel event
	delete {kit.creating.%player%}
	
	set {_name} to message
	replace all " " with "_" in {_name}
	
	if length of {_name} > 16:
		send "&c‚úñ –ù–∞–∑–≤–∞–Ω–∏–µ —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω–æ–µ! (–ú–∞–∫—Å 16 —Å–∏–º–≤–æ–ª–æ–≤)"
		stop
	
	if {_name} is "":
		send "&c‚úñ –ù–∞–∑–≤–∞–Ω–∏–µ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º!"
		stop
	
	if {custom.kits.%player%::*} contains {_name}:
		send "&c‚úñ –ö–∏—Ç —Å —Ç–∞–∫–∏–º –Ω–∞–∑–≤–∞–Ω–∏–µ–º —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç!"
		stop
	
	add {_name} to {custom.kits.%player%::*}
	
	set {_icon} to diamond sword named "&6%{_name}%"
	set {custom.kit.%player%.%{_name}%::display.item} to {_icon}
	
	set {kit.editing.%player%} to {_name}

	playSuccessSound(player)
	send "&c‚úì –ö–∏—Ç &6%{_name}% &c—Å–æ–∑–¥–∞–Ω!"

	wait 1 second
	openKitEditor(player, {_name})

function openKitEditor(p: player, kitName: text):
	set {kit.editing.%{_p}%} to {_kitName}
	
	open virtual chest inventory with 5 rows named "&7‚öî –†–µ–¥–∞–∫—Ç–æ—Ä: %{kit.editing.%{_p}%}%" to {_p}
	wait 1 tick
	
	createBorderKits({_p}'s current inventory)
	
	set slot 10 of {_p}'s current inventory to diamond chestplate named "&7‚öî –ë—Ä–æ–Ω—è" with lore "&8–í—ã–±–æ—Ä –±—Ä–æ–Ω–∏ –≤—Å–µ—Ö —Ç–∏–ø–æ–≤"
	set slot 11 of {_p}'s current inventory to diamond sword named "&7‚öî –û—Ä—É–∂–∏–µ" with lore "&8–ú–µ—á–∏, —Ç–æ–ø–æ—Ä—ã, –ª—É–∫–∏..."
	set slot 12 of {_p}'s current inventory to diamond pickaxe named "&7‚õè –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã" with lore "&8–ö–∏—Ä–∫–∏, –ª–æ–ø–∞—Ç—ã, –º–æ—Ç—ã–≥–∏..."
	set slot 13 of {_p}'s current inventory to golden apple named "&7üçñ –ï–¥–∞" with lore "&8–°—Ç–µ–π–∫–∏, —è–±–ª–æ–∫–∏..."
	set slot 14 of {_p}'s current inventory to ender pearl named "&7‚ú® –î—Ä—É–≥–æ–µ" with lore "&8–ü–µ—Ä–ª—ã, —Ç–æ—Ç–µ–º—ã, –±–ª–æ–∫–∏..."
	set slot 15 of {_p}'s current inventory to enchanted book named "&7‚ú® –ó–∞—á–∞—Ä–æ–≤–∞–Ω–∏—è" with lore "&8–ó–∞—á–∞—Ä–æ–≤–∞—Ç—å –ø—Ä–µ–¥–º–µ—Ç—ã"
	set slot 16 of {_p}'s current inventory to chest named "&7üì¶ –¢–µ–∫—É—â–∏–π –ö–∏—Ç" with lore "&8–ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∫–∏—Ç"
	
	set slot 36 of {_p}'s current inventory to barrier named "&cüóë –£–¥–∞–ª–∏—Ç—å –ö–∏—Ç" with lore "&8–£–¥–∞–ª–∏—Ç—å —ç—Ç–æ—Ç –∫–∏—Ç –Ω–∞–≤—Å–µ–≥–¥–∞", "&c‚ö† –≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å!", " ", "&8‚ñ∂ &f–ù–∞–∂–º–∏ —á—Ç–æ–±—ã —É–¥–∞–ª–∏—Ç—å"
	
	set slot 40 of {_p}'s current inventory to lime dye named "&c‚úì –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏ –í—ã–π—Ç–∏"

function openArmorCategory(p: player):
	set {_kitName} to {kit.editing.%{_p}%}

	open virtual chest inventory with 5 rows named "&7‚öî –í—ã–±–æ—Ä –ë—Ä–æ–Ω–∏" to {_p}
	wait 1 tick
	
	createBorderKits({_p}'s current inventory)
	
	set slot 10 of {_p}'s current inventory to leather helmet named "&7–ö–æ–∂–∞–Ω—ã–π –®–ª–µ–º"
	set slot 11 of {_p}'s current inventory to chainmail helmet named "&7–ö–æ–ª—å—á—É–∂–Ω—ã–π –®–ª–µ–º"
	set slot 12 of {_p}'s current inventory to iron helmet named "&7–ñ–µ–ª–µ–∑–Ω—ã–π –®–ª–µ–º"
	set slot 13 of {_p}'s current inventory to golden helmet named "&e–ó–æ–ª–æ—Ç–æ–π –®–ª–µ–º"
	set slot 14 of {_p}'s current inventory to diamond helmet named "&b–ê–ª–º–∞–∑–Ω—ã–π –®–ª–µ–º"
	set slot 15 of {_p}'s current inventory to netherite helmet named "&5–ù–µ–∑–µ—Ä–∏—Ç–æ–≤—ã–π –®–ª–µ–º"
	
	set slot 19 of {_p}'s current inventory to leather chestplate named "&7–ö–æ–∂–∞–Ω–∞—è –ö–∏—Ä–∞—Å–∞"
	set slot 20 of {_p}'s current inventory to chainmail chestplate named "&7–ö–æ–ª—å—á—É–∂–Ω–∞—è –ö–∏—Ä–∞—Å–∞"
	set slot 21 of {_p}'s current inventory to iron chestplate named "&7–ñ–µ–ª–µ–∑–Ω–∞—è –ö–∏—Ä–∞—Å–∞"
	set slot 22 of {_p}'s current inventory to golden chestplate named "&e–ó–æ–ª–æ—Ç–∞—è –ö–∏—Ä–∞—Å–∞"
	set slot 23 of {_p}'s current inventory to diamond chestplate named "&b–ê–ª–º–∞–∑–Ω–∞—è –ö–∏—Ä–∞—Å–∞"
	set slot 24 of {_p}'s current inventory to netherite chestplate named "&5–ù–µ–∑–µ—Ä–∏—Ç–æ–≤–∞—è –ö–∏—Ä–∞—Å–∞"
	
	set slot 28 of {_p}'s current inventory to leather leggings named "&7–ö–æ–∂–∞–Ω—ã–µ –®—Ç–∞–Ω—ã"
	set slot 29 of {_p}'s current inventory to chainmail leggings named "&7–ö–æ–ª—å—á—É–∂–Ω—ã–µ –®—Ç–∞–Ω—ã"
	set slot 30 of {_p}'s current inventory to iron leggings named "&7–ñ–µ–ª–µ–∑–Ω—ã–µ –®—Ç–∞–Ω—ã"
	set slot 31 of {_p}'s current inventory to golden leggings named "&e–ó–æ–ª–æ—Ç—ã–µ –®—Ç–∞–Ω—ã"
	set slot 32 of {_p}'s current inventory to diamond leggings named "&b–ê–ª–º–∞–∑–Ω—ã–µ –®—Ç–∞–Ω—ã"
	set slot 33 of {_p}'s current inventory to netherite leggings named "&5–ù–µ–∑–µ—Ä–∏—Ç–æ–≤—ã–µ –®—Ç–∞–Ω—ã"
	
	set slot 16 of {_p}'s current inventory to nether star named "&c‚Æû –ë–æ—Ç–∏–Ω–∫–∏" with lore "&7–ù–∞–∂–º–∏ –¥–ª—è –≤—ã–±–æ—Ä–∞ –±–æ—Ç–∏–Ω–æ–∫"
	
	set slot 40 of {_p}'s current inventory to barrier named "&c‚Æú –ù–∞–∑–∞–¥"

function openArmorCategoryBoots(p: player):
	set {_kitName} to {kit.editing.%{_p}%}

	open virtual chest inventory with 5 rows named "&7‚öî –í—ã–±–æ—Ä –ë—Ä–æ–Ω–∏ (–ë–æ—Ç–∏–Ω–∫–∏)" to {_p}
	wait 1 tick
	
	createBorderKits({_p}'s current inventory)
	
	set slot 10 of {_p}'s current inventory to leather boots named "&7–ö–æ–∂–∞–Ω—ã–µ –ë–æ—Ç–∏–Ω–∫–∏"
	set slot 11 of {_p}'s current inventory to chainmail boots named "&7–ö–æ–ª—å—á—É–∂–Ω—ã–µ –ë–æ—Ç–∏–Ω–∫–∏"
	set slot 12 of {_p}'s current inventory to iron boots named "&7–ñ–µ–ª–µ–∑–Ω—ã–µ –ë–æ—Ç–∏–Ω–∫–∏"
	set slot 13 of {_p}'s current inventory to golden boots named "&e–ó–æ–ª–æ—Ç—ã–µ –ë–æ—Ç–∏–Ω–∫–∏"
	set slot 14 of {_p}'s current inventory to diamond boots named "&b–ê–ª–º–∞–∑–Ω—ã–µ –ë–æ—Ç–∏–Ω–∫–∏"
	set slot 15 of {_p}'s current inventory to netherite boots named "&5–ù–µ–∑–µ—Ä–∏—Ç–æ–≤—ã–µ –ë–æ—Ç–∏–Ω–∫–∏"
	
	set slot 16 of {_p}'s current inventory to nether star named "&c‚Æú –ù–∞–∑–∞–¥ –∫ –±—Ä–æ–Ω–µ" with lore "&7–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ —à–ª–µ–º–∞–º/–∫–∏—Ä–∞—Å–∞–º/—à—Ç–∞–Ω–∞–º"
	
	set slot 40 of {_p}'s current inventory to barrier named "&c‚Æú –ù–∞–∑–∞–¥ –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä"

function openWeaponsCategory(p: player):
	set {_kitName} to {kit.editing.%{_p}%}

	open virtual chest inventory with 5 rows named "&7‚öî –í—ã–±–æ—Ä –û—Ä—É–∂–∏—è" to {_p}
	wait 1 tick
	
	createBorderKits({_p}'s current inventory)
	
	set slot 10 of {_p}'s current inventory to wooden sword named "&7–î–µ—Ä–µ–≤—è–Ω–Ω—ã–π –ú–µ—á"
	set slot 11 of {_p}'s current inventory to stone sword named "&7–ö–∞–º–µ–Ω–Ω—ã–π –ú–µ—á"
	set slot 12 of {_p}'s current inventory to iron sword named "&7–ñ–µ–ª–µ–∑–Ω—ã–π –ú–µ—á"
	set slot 13 of {_p}'s current inventory to golden sword named "&e–ó–æ–ª–æ—Ç–æ–π –ú–µ—á"
	set slot 14 of {_p}'s current inventory to diamond sword named "&b–ê–ª–º–∞–∑–Ω—ã–π –ú–µ—á"
	set slot 15 of {_p}'s current inventory to netherite sword named "&5–ù–µ–∑–µ—Ä–∏—Ç–æ–≤—ã–π –ú–µ—á"
	
	set slot 19 of {_p}'s current inventory to wooden axe named "&7–î–µ—Ä–µ–≤—è–Ω–Ω—ã–π –¢–æ–ø–æ—Ä"
	set slot 20 of {_p}'s current inventory to stone axe named "&7–ö–∞–º–µ–Ω–Ω—ã–π –¢–æ–ø–æ—Ä"
	set slot 21 of {_p}'s current inventory to iron axe named "&7–ñ–µ–ª–µ–∑–Ω—ã–π –¢–æ–ø–æ—Ä"
	set slot 22 of {_p}'s current inventory to golden axe named "&e–ó–æ–ª–æ—Ç–æ–π –¢–æ–ø–æ—Ä"
	set slot 23 of {_p}'s current inventory to diamond axe named "&b–ê–ª–º–∞–∑–Ω—ã–π –¢–æ–ø–æ—Ä"
	set slot 24 of {_p}'s current inventory to netherite axe named "&5–ù–µ–∑–µ—Ä–∏—Ç–æ–≤—ã–π –¢–æ–ø–æ—Ä"
	
	set slot 28 of {_p}'s current inventory to bow named "&7–õ—É–∫"
	set slot 29 of {_p}'s current inventory to crossbow named "&7–ê—Ä–±–∞–ª–µ—Ç"
	set slot 30 of {_p}'s current inventory to trident named "&b–¢—Ä–∏–∑—É–±–µ—Ü"
	set slot 31 of {_p}'s current inventory to shield named "&7–©–∏—Ç"
	set slot 32 of {_p}'s current inventory to 16 arrow named "&716 –°—Ç—Ä–µ–ª"
	set slot 33 of {_p}'s current inventory to 32 arrow named "&732 –°—Ç—Ä–µ–ª—ã"
	set slot 34 of {_p}'s current inventory to 64 arrow named "&764 –°—Ç—Ä–µ–ª—ã"
	
	set slot 40 of {_p}'s current inventory to barrier named "&c‚Æú –ù–∞–∑–∞–¥"

function openToolsCategory(p: player):
	set {_kitName} to {kit.editing.%{_p}%}

	open virtual chest inventory with 5 rows named "&7‚õè –í—ã–±–æ—Ä –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤" to {_p}
	wait 1 tick
	
	createBorderKits({_p}'s current inventory)
	
	set slot 10 of {_p}'s current inventory to wooden pickaxe named "&7–î–µ—Ä–µ–≤—è–Ω–Ω–∞—è –ö–∏—Ä–∫–∞"
	set slot 11 of {_p}'s current inventory to stone pickaxe named "&7–ö–∞–º–µ–Ω–Ω–∞—è –ö–∏—Ä–∫–∞"
	set slot 12 of {_p}'s current inventory to iron pickaxe named "&7–ñ–µ–ª–µ–∑–Ω–∞—è –ö–∏—Ä–∫–∞"
	set slot 13 of {_p}'s current inventory to golden pickaxe named "&e–ó–æ–ª–æ—Ç–∞—è –ö–∏—Ä–∫–∞"
	set slot 14 of {_p}'s current inventory to diamond pickaxe named "&b–ê–ª–º–∞–∑–Ω–∞—è –ö–∏—Ä–∫–∞"
	set slot 15 of {_p}'s current inventory to netherite pickaxe named "&5–ù–µ–∑–µ—Ä–∏—Ç–æ–≤–∞—è –ö–∏—Ä–∫–∞"
	
	set slot 19 of {_p}'s current inventory to wooden shovel named "&7–î–µ—Ä–µ–≤—è–Ω–Ω–∞—è –õ–æ–ø–∞—Ç–∞"
	set slot 20 of {_p}'s current inventory to stone shovel named "&7–ö–∞–º–µ–Ω–Ω–∞—è –õ–æ–ø–∞—Ç–∞"
	set slot 21 of {_p}'s current inventory to iron shovel named "&7–ñ–µ–ª–µ–∑–Ω–∞—è –õ–æ–ø–∞—Ç–∞"
	set slot 22 of {_p}'s current inventory to golden shovel named "&e–ó–æ–ª–æ—Ç–∞—è –õ–æ–ø–∞—Ç–∞"
	set slot 23 of {_p}'s current inventory to diamond shovel named "&b–ê–ª–º–∞–∑–Ω–∞—è –õ–æ–ø–∞—Ç–∞"
	set slot 24 of {_p}'s current inventory to netherite shovel named "&5–ù–µ–∑–µ—Ä–∏—Ç–æ–≤–∞—è –õ–æ–ø–∞—Ç–∞"
	
	set slot 28 of {_p}'s current inventory to wooden hoe named "&7–î–µ—Ä–µ–≤—è–Ω–Ω–∞—è –ú–æ—Ç—ã–≥–∞"
	set slot 29 of {_p}'s current inventory to stone hoe named "&7–ö–∞–º–µ–Ω–Ω–∞—è –ú–æ—Ç—ã–≥–∞"
	set slot 30 of {_p}'s current inventory to iron hoe named "&7–ñ–µ–ª–µ–∑–Ω–∞—è –ú–æ—Ç—ã–≥–∞"
	set slot 31 of {_p}'s current inventory to diamond hoe named "&b–ê–ª–º–∞–∑–Ω–∞—è –ú–æ—Ç—ã–≥–∞"
	set slot 32 of {_p}'s current inventory to shears named "&7–ù–æ–∂–Ω–∏—Ü—ã"
	set slot 33 of {_p}'s current inventory to fishing rod named "&7–£–¥–æ—á–∫–∞"
	set slot 34 of {_p}'s current inventory to flint and steel named "&7–û–≥–Ω–∏–≤–æ"
	
	set slot 40 of {_p}'s current inventory to barrier named "&c‚Æú –ù–∞–∑–∞–¥"

function openFoodCategory(p: player):
	set {_kitName} to {kit.editing.%{_p}%}

	open virtual chest inventory with 5 rows named "&7üçñ –í—ã–±–æ—Ä –ï–¥—ã" to {_p}
	wait 1 tick
	
	createBorderKits({_p}'s current inventory)
	
	set slot 10 of {_p}'s current inventory to 8 cooked beef named "&78 –°—Ç–µ–π–∫–æ–≤"
	set slot 11 of {_p}'s current inventory to 16 cooked beef named "&716 –°—Ç–µ–π–∫–æ–≤"
	set slot 12 of {_p}'s current inventory to 32 cooked beef named "&732 –°—Ç–µ–π–∫–∞"
	set slot 13 of {_p}'s current inventory to 64 cooked beef named "&764 –°—Ç–µ–π–∫–∞"
	
	set slot 19 of {_p}'s current inventory to 1 golden apple named "&e1 –ó–æ–ª–æ—Ç–æ–µ –Ø–±–ª–æ–∫–æ"
	set slot 20 of {_p}'s current inventory to 3 golden apple named "&e3 –ó–æ–ª–æ—Ç—ã—Ö –Ø–±–ª–æ–∫–∞"
	set slot 21 of {_p}'s current inventory to 5 golden apple named "&e5 –ó–æ–ª–æ—Ç—ã—Ö –Ø–±–ª–æ–∫"
	set slot 22 of {_p}'s current inventory to 16 golden apple named "&e16 –ó–æ–ª–æ—Ç—ã—Ö –Ø–±–ª–æ–∫"
	set slot 23 of {_p}'s current inventory to 32 golden apple named "&e32 –ó–æ–ª–æ—Ç—ã—Ö –Ø–±–ª–æ–∫–∞"
	set slot 24 of {_p}'s current inventory to 64 golden apple named "&e64 –ó–æ–ª–æ—Ç—ã—Ö –Ø–±–ª–æ–∫–∞"
	
	set slot 28 of {_p}'s current inventory to 1 enchanted golden apple named "&6–ó–∞—á–∞—Ä–æ–≤–∞–Ω–Ω–æ–µ –Ø–±–ª–æ–∫–æ"
	set slot 29 of {_p}'s current inventory to 2 enchanted golden apple named "&62 –ó–∞—á–∞—Ä–æ–≤–∞–Ω–Ω—ã—Ö –Ø–±–ª–æ–∫–∞"
	set slot 30 of {_p}'s current inventory to 4 enchanted golden apple named "&64 –ó–∞—á–∞—Ä–æ–≤–∞–Ω–Ω—ã—Ö –Ø–±–ª–æ–∫–∞"
	set slot 31 of {_p}'s current inventory to 8 enchanted golden apple named "&68 –ó–∞—á–∞—Ä–æ–≤–∞–Ω–Ω—ã—Ö –Ø–±–ª–æ–∫"
	
	set slot 40 of {_p}'s current inventory to barrier named "&c‚Æú –ù–∞–∑–∞–¥"

function openOtherCategory(p: player):
	set {_kitName} to {kit.editing.%{_p}%}

	open virtual chest inventory with 5 rows named "&7‚ú® –î—Ä—É–≥–∏–µ –ü—Ä–µ–¥–º–µ—Ç—ã" to {_p}
	wait 1 tick
	
	createBorderKits({_p}'s current inventory)
	
	set slot 10 of {_p}'s current inventory to 4 ender pearl named "&d4 –ü–µ—Ä–ª—ã –ö—Ä–∞—è"
	set slot 11 of {_p}'s current inventory to 8 ender pearl named "&d8 –ü–µ—Ä–ª –ö—Ä–∞—è"
	set slot 12 of {_p}'s current inventory to 16 ender pearl named "&d16 –ü–µ—Ä–ª –ö—Ä–∞—è"
	
	set slot 13 of {_p}'s current inventory to 1 totem of undying named "&e–¢–æ—Ç–µ–º –ë–µ—Å—Å–º–µ—Ä—Ç–∏—è"
	set slot 14 of {_p}'s current inventory to 3 totem of undying named "&e3 –¢–æ—Ç–µ–º–∞"
	set slot 15 of {_p}'s current inventory to 9 totem of undying named "&e9 –¢–æ—Ç–µ–º–æ–≤"
	
	set slot 19 of {_p}'s current inventory to 16 obsidian named "&516 –û–±—Å–∏–¥–∏–∞–Ω–∞"
	set slot 20 of {_p}'s current inventory to 32 obsidian named "&532 –û–±—Å–∏–¥–∏–∞–Ω–∞"
	set slot 21 of {_p}'s current inventory to 64 obsidian named "&564 –û–±—Å–∏–¥–∏–∞–Ω–∞"
	
	set slot 22 of {_p}'s current inventory to 16 end crystal named "&d16 –ö—Ä–∏—Å—Ç–∞–ª–ª–æ–≤"
	set slot 23 of {_p}'s current inventory to 32 end crystal named "&d32 –ö—Ä–∏—Å—Ç–∞–ª–ª–∞"
	set slot 24 of {_p}'s current inventory to 64 end crystal named "&d64 –ö—Ä–∏—Å—Ç–∞–ª–ª–∞"
	
	set slot 28 of {_p}'s current inventory to 16 cobweb named "&f16 –ü–∞—É—Ç–∏–Ω—ã"
	set slot 29 of {_p}'s current inventory to 32 cobweb named "&f32 –ü–∞—É—Ç–∏–Ω—ã"
	set slot 30 of {_p}'s current inventory to 64 cobweb named "&f64 –ü–∞—É—Ç–∏–Ω—ã"
	
	set slot 31 of {_p}'s current inventory to 16 chorus fruit named "&516 –•–æ—Ä—É—Å–∞"
	set slot 32 of {_p}'s current inventory to 32 chorus fruit named "&532 –•–æ—Ä—É—Å–∞"
	set slot 33 of {_p}'s current inventory to 64 chorus fruit named "&564 –•–æ—Ä—É—Å–∞"
	
	set slot 40 of {_p}'s current inventory to barrier named "&c‚Æú –ù–∞–∑–∞–¥"

function openEnchantMenu(p: player):
	set {_kitName} to {kit.editing.%{_p}%}

	open virtual chest inventory with 5 rows named "&7‚ú® –í—ã–±–æ—Ä –ó–∞—á–∞—Ä–æ–≤–∞–Ω–∏–π" to {_p}
	wait 1 tick
	
	createBorderKits({_p}'s current inventory)
	
	set slot 10 of {_p}'s current inventory to enchanted book named "&c–û—Å—Ç—Ä–æ—Ç–∞ V" with lore "&7Sharpness 5", "&8–î–ª—è: –ú–µ—á, –¢–æ–ø–æ—Ä"
	set slot 11 of {_p}'s current inventory to enchanted book named "&c–ü–æ—Ä–∞–∂–µ–Ω–∏–µ V" with lore "&7Smite 5", "&8–î–ª—è: –ú–µ—á, –¢–æ–ø–æ—Ä"
	set slot 12 of {_p}'s current inventory to enchanted book named "&c–û—Ç–¥–∞—á–∞ II" with lore "&7Knockback 2", "&8–î–ª—è: –ú–µ—á"
	set slot 13 of {_p}'s current inventory to enchanted book named "&c–û–≥–Ω–µ–Ω–Ω—ã–π II" with lore "&7Fire Aspect 2", "&8–î–ª—è: –ú–µ—á"
	set slot 14 of {_p}'s current inventory to enchanted book named "&c–î–æ–±—ã—á–∞ III" with lore "&7Looting 3", "&8–î–ª—è: –ú–µ—á"
	
	set slot 19 of {_p}'s current inventory to enchanted book named "&b–ó–∞—â–∏—Ç–∞ IV" with lore "&7Protection 4", "&8–î–ª—è: –í—Å—è –±—Ä–æ–Ω—è"
	set slot 20 of {_p}'s current inventory to enchanted book named "&b–û–≥–Ω–µ—Å—Ç–æ–π–∫–æ—Å—Ç—å IV" with lore "&7Fire Protection 4", "&8–î–ª—è: –í—Å—è –±—Ä–æ–Ω—è"
	set slot 21 of {_p}'s current inventory to enchanted book named "&b–í–∑—Ä—ã–≤–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å IV" with lore "&7Blast Protection 4", "&8–î–ª—è: –í—Å—è –±—Ä–æ–Ω—è"
	set slot 22 of {_p}'s current inventory to enchanted book named "&b–®–∏–ø—ã III" with lore "&7Thorns 3", "&8–î–ª—è: –í—Å—è –±—Ä–æ–Ω—è"
	set slot 23 of {_p}'s current inventory to enchanted book named "&b–ü–æ–¥–≤–æ–¥–Ω–æ–µ –¥—ã—Ö–∞–Ω–∏–µ III" with lore "&7Respiration 3", "&8–î–ª—è: –®–ª–µ–º"
	set slot 24 of {_p}'s current inventory to enchanted book named "&b–ü–æ–¥–≤–æ–¥–Ω–∞—è —Ö–æ–¥—å–±–∞ III" with lore "&7Depth Strider 3", "&8–î–ª—è: –ë–æ—Ç–∏–Ω–∫–∏"
	
	set slot 28 of {_p}'s current inventory to enchanted book named "&e–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å V" with lore "&7Efficiency 5", "&8–î–ª—è: –ö–∏—Ä–∫–∞, –õ–æ–ø–∞—Ç–∞, –¢–æ–ø–æ—Ä"
	set slot 29 of {_p}'s current inventory to enchanted book named "&e–®–µ–ª–∫–æ–≤–æ–µ –ö–∞—Å–∞–Ω–∏–µ" with lore "&7Silk Touch 1", "&8–î–ª—è: –ö–∏—Ä–∫–∞, –õ–æ–ø–∞—Ç–∞, –¢–æ–ø–æ—Ä"
	set slot 30 of {_p}'s current inventory to enchanted book named "&e–£–¥–∞—á–∞ III" with lore "&7Fortune 3", "&8–î–ª—è: –ö–∏—Ä–∫–∞, –õ–æ–ø–∞—Ç–∞, –¢–æ–ø–æ—Ä"
	
	set slot 31 of {_p}'s current inventory to enchanted book named "&6–°–∏–ª–∞ V" with lore "&7Power 5", "&8–î–ª—è: –õ—É–∫"
	set slot 32 of {_p}'s current inventory to enchanted book named "&6–ü–ª–∞–º—è" with lore "&7Flame 1", "&8–î–ª—è: –õ—É–∫"
	set slot 33 of {_p}'s current inventory to enchanted book named "&6–ë–µ—Å–∫–æ–Ω–µ—á–Ω–æ—Å—Ç—å" with lore "&7Infinity 1", "&8–î–ª—è: –õ—É–∫"
	
	set slot 15 of {_p}'s current inventory to enchanted book named "&c–ü—Ä–æ—á–Ω–æ—Å—Ç—å III" with lore "&7Unbreaking 3", "&8–î–ª—è: –í—Å–µ–≥–æ"
	set slot 16 of {_p}'s current inventory to enchanted book named "&c–ü–æ—á–∏–Ω–∫–∞" with lore "&7Mending 1", "&8–î–ª—è: –í—Å–µ–≥–æ"
	
	set slot 40 of {_p}'s current inventory to barrier named "&c‚Æú –ù–∞–∑–∞–¥"

function showCurrentKit(p: player):
	set {_kitName} to {kit.editing.%{_p}%}
	
	open virtual chest inventory with 5 rows named "&7üì¶ –¢–µ–∫—É—â–∏–π –ö–∏—Ç" to {_p}
	wait 1 tick
	
	createBorderKits({_p}'s current inventory)
	
	if {custom.kit.%{_p}%.%{_kitName}%::helmet} is set:
		set slot 10 of {_p}'s current inventory to {custom.kit.%{_p}%.%{_kitName}%::helmet}
	if {custom.kit.%{_p}%.%{_kitName}%::chestplate} is set:
		set slot 11 of {_p}'s current inventory to {custom.kit.%{_p}%.%{_kitName}%::chestplate}
	if {custom.kit.%{_p}%.%{_kitName}%::leggings} is set:
		set slot 12 of {_p}'s current inventory to {custom.kit.%{_p}%.%{_kitName}%::leggings}
	if {custom.kit.%{_p}%.%{_kitName}%::boots} is set:
		set slot 13 of {_p}'s current inventory to {custom.kit.%{_p}%.%{_kitName}%::boots}
	
	set {_displaySlots::*} to 14, 15, 16, 19, 20, 21, 22, 23, 24, 25, 28, 29, 30, 31, 32, 33 and 34
	loop 17 times:
		set {_index} to loop-number - 1
		if {custom.kit.%{_p}%.%{_kitName}%::item.%{_index}%} is set:
			set {_displaySlot} to {_displaySlots::%loop-number%}
			set slot {_displaySlot} of {_p}'s current inventory to {custom.kit.%{_p}%.%{_kitName}%::item.%{_index}%}
	
	set slot 36 of {_p}'s current inventory to lava bucket named "&cüóë –û—á–∏—Å—Ç–∏—Ç—å –ö–∏—Ç" with lore "&7–£–¥–∞–ª–∏—Ç—å –≤—Å–µ –ø—Ä–µ–¥–º–µ—Ç—ã"
	
	set slot 40 of {_p}'s current inventory to barrier named "&c‚Æú –ù–∞–∑–∞–¥"

on inventory click:
	set {_inv} to name of event-inventory
	
	if {_inv} contains "&7‚öî –†–µ–¥–∞–∫—Ç–æ—Ä:":
		cancel event
		set {_slot} to index of event-slot
		set {_kitName} to {kit.editing.%player%}
		
		if {_slot} is 10:
			openArmorCategory(player)
			stop
		if {_slot} is 11:
			openWeaponsCategory(player)
			stop
		if {_slot} is 12:
			openToolsCategory(player)
			stop
		if {_slot} is 13:
			openFoodCategory(player)
			stop
		if {_slot} is 14:
			openOtherCategory(player)
			stop
		if {_slot} is 15:
			openEnchantMenu(player)
			stop
		if {_slot} is 16:
			showCurrentKit(player)
			stop
		
		if {_slot} is 36:
			playErrorSound(player)
			delete {custom.kit.%player%.%{_kitName}%::*}
			remove {_kitName} from {custom.kits.%player%::*}
			
			if {player.active.kit.%player%} is "custom_%{_kitName}%":
				delete {player.active.kit.%player%}
			
			send "&c‚öî –ö–∏—Ç &6%{_kitName}% &c–ø–æ–ª–Ω–æ—Å—Ç—å—é —É–¥–∞–ª–µ–Ω!"
			
			close player's inventory
			wait 3 ticks
			openMyKitsMenu(player)
			stop

		if {_slot} is 40:
			playSuccessSound(player)
			send "&c‚úì –ö–∏—Ç %{_kitName}% —Å–æ—Ö—Ä–∞–Ω—ë–Ω!"
			
			close player's inventory
			wait 2 ticks
			openMyKitsMenu(player)
			stop
	
	if {_inv} is "&7‚öî –í—ã–±–æ—Ä –ë—Ä–æ–Ω–∏":
		cancel event
		set {_slot} to index of event-slot
		set {_kitName} to {kit.editing.%player%}
		
		if {_slot} is 16:
			openArmorCategoryBoots(player)
			stop
		
		if {_slot} is 40:
			openKitEditor(player, {_kitName})
			stop
		
		set {_item} to event-slot
		if {_item} is not air:
			if name of {_item} contains "–®–ª–µ–º":
				set {custom.kit.%player%.%{_kitName}%::helmet} to {_item}
				send "&c‚úì –®–ª–µ–º –¥–æ–±–∞–≤–ª–µ–Ω!"
			if name of {_item} contains "–ö–∏—Ä–∞—Å–∞":
				set {custom.kit.%player%.%{_kitName}%::chestplate} to {_item}
				send "&c‚úì –ö–∏—Ä–∞—Å–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∞!"
			if name of {_item} contains "–®—Ç–∞–Ω—ã":
				set {custom.kit.%player%.%{_kitName}%::leggings} to {_item}
				send "&c‚úì –®—Ç–∞–Ω—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã!"
	
	if {_inv} is "&7‚öî –í—ã–±–æ—Ä –ë—Ä–æ–Ω–∏ (–ë–æ—Ç–∏–Ω–∫–∏)":
		cancel event
		set {_slot} to index of event-slot
		set {_kitName} to {kit.editing.%player%}
		
		if {_slot} is 16:
			openArmorCategory(player)
			stop
		
		if {_slot} is 40:
			openKitEditor(player, {_kitName})
			stop
		
		set {_item} to event-slot
		if {_item} is not air:
			if name of {_item} contains "–ë–æ—Ç–∏–Ω–∫–∏":
				set {custom.kit.%player%.%{_kitName}%::boots} to {_item}
				send "&c‚úì –ë–æ—Ç–∏–Ω–∫–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã!"
	
	if {_inv} is "&7‚öî –í—ã–±–æ—Ä –û—Ä—É–∂–∏—è" or "&7‚õè –í—ã–±–æ—Ä –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤" or "&7üçñ –í—ã–±–æ—Ä –ï–¥—ã" or "&7‚ú® –î—Ä—É–≥–∏–µ –ü—Ä–µ–¥–º–µ—Ç—ã":
		cancel event
		set {_slot} to index of event-slot
		set {_kitName} to {kit.editing.%player%}
		
		if {_slot} is 40:
			openKitEditor(player, {_kitName})
			stop
		
		set {_item} to event-slot
		if {_item} is not air:
			loop integers from 0 to 36:
				if {custom.kit.%player%.%{_kitName}%::item.%loop-value%} is not set:
					set {custom.kit.%player%.%{_kitName}%::item.%loop-value%} to {_item}
					send "&c‚úì –î–æ–±–∞–≤–ª–µ–Ω–æ –≤ —Å–ª–æ—Ç %loop-value + 1%!"
					stop loop
	
	if {_inv} is "&7‚ú® –í—ã–±–æ—Ä –ó–∞—á–∞—Ä–æ–≤–∞–Ω–∏–π":
		cancel event
		set {_slot} to index of event-slot
		set {_kitName} to {kit.editing.%player%}
		
		if {_slot} is 40:
			openKitEditor(player, {_kitName})
			stop
		
		set {_clickedBook} to event-slot
		if {_clickedBook} is air:
			stop
		
		if name of {_clickedBook} contains "–ó–∞—â–∏—Ç–∞" or "–û–≥–Ω–µ—Å—Ç–æ–π–∫–æ—Å—Ç—å" or "–í–∑—Ä—ã–≤–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å" or "–®–∏–ø—ã" or "–ü–æ–¥–≤–æ–¥–Ω–æ–µ –¥—ã—Ö–∞–Ω–∏–µ" or "–ü–æ–¥–≤–æ–¥–Ω–∞—è —Ö–æ–¥—å–±–∞":
			set {_enchanted} to false
			
			if {custom.kit.%player%.%{_kitName}%::helmet} is set:
				set {_helmet} to {custom.kit.%player%.%{_kitName}%::helmet}
				if name of {_clickedBook} contains "–ó–∞—â–∏—Ç–∞":
					enchant {_helmet} with protection 4
				else if name of {_clickedBook} contains "–û–≥–Ω–µ—Å—Ç–æ–π–∫–æ—Å—Ç—å":
					enchant {_helmet} with fire protection 4
				else if name of {_clickedBook} contains "–í–∑—Ä—ã–≤–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å":
					enchant {_helmet} with blast protection 4
				else if name of {_clickedBook} contains "–®–∏–ø—ã":
					enchant {_helmet} with thorns 3
				else if name of {_clickedBook} contains "–ü–æ–¥–≤–æ–¥–Ω–æ–µ –¥—ã—Ö–∞–Ω–∏–µ":
					enchant {_helmet} with respiration 3
				set {custom.kit.%player%.%{_kitName}%::helmet} to {_helmet}
				set {_enchanted} to true
			
			if {custom.kit.%player%.%{_kitName}%::chestplate} is set:
				set {_chest} to {custom.kit.%player%.%{_kitName}%::chestplate}
				if name of {_clickedBook} contains "–ó–∞—â–∏—Ç–∞":
					enchant {_chest} with protection 4
				else if name of {_clickedBook} contains "–û–≥–Ω–µ—Å—Ç–æ–π–∫–æ—Å—Ç—å":
					enchant {_chest} with fire protection 4
				else if name of {_clickedBook} contains "–í–∑—Ä—ã–≤–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å":
					enchant {_chest} with blast protection 4
				else if name of {_clickedBook} contains "–®–∏–ø—ã":
					enchant {_chest} with thorns 3
				set {custom.kit.%player%.%{_kitName}%::chestplate} to {_chest}
				set {_enchanted} to true
			
			if {custom.kit.%player%.%{_kitName}%::leggings} is set:
				set {_legs} to {custom.kit.%player%.%{_kitName}%::leggings}
				if name of {_clickedBook} contains "–ó–∞—â–∏—Ç–∞":
					enchant {_legs} with protection 4
				else if name of {_clickedBook} contains "–û–≥–Ω–µ—Å—Ç–æ–π–∫–æ—Å—Ç—å":
					enchant {_legs} with fire protection 4
				else if name of {_clickedBook} contains "–í–∑—Ä—ã–≤–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å":
					enchant {_legs} with blast protection 4
				else if name of {_clickedBook} contains "–®–∏–ø—ã":
					enchant {_legs} with thorns 3
				set {custom.kit.%player%.%{_kitName}%::leggings} to {_legs}
				set {_enchanted} to true
			
			if {custom.kit.%player%.%{_kitName}%::boots} is set:
				set {_boots} to {custom.kit.%player%.%{_kitName}%::boots}
				if name of {_clickedBook} contains "–ó–∞—â–∏—Ç–∞":
					enchant {_boots} with protection 4
				else if name of {_clickedBook} contains "–û–≥–Ω–µ—Å—Ç–æ–π–∫–æ—Å—Ç—å":
					enchant {_boots} with fire protection 4
				else if name of {_clickedBook} contains "–í–∑—Ä—ã–≤–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å":
					enchant {_boots} with blast protection 4
				else if name of {_clickedBook} contains "–®–∏–ø—ã":
					enchant {_boots} with thorns 3
				else if name of {_clickedBook} contains "–ü–æ–¥–≤–æ–¥–Ω–∞—è —Ö–æ–¥—å–±–∞":
					enchant {_boots} with depth strider 3
				set {custom.kit.%player%.%{_kitName}%::boots} to {_boots}
				set {_enchanted} to true
			
			if {_enchanted} is true:
				send "&c‚úì –ó–∞—á–∞—Ä–æ–≤–∞–Ω–∏–µ –¥–æ–±–∞–≤–ª–µ–Ω–æ –Ω–∞ –≤—Å—é –±—Ä–æ–Ω—é!"
			else:
				send "&c‚úñ –°–Ω–∞—á–∞–ª–∞ –¥–æ–±–∞–≤—å –±—Ä–æ–Ω—é!"
			stop
		
		if name of {_clickedBook} contains "–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å" or "–®–µ–ª–∫–æ–≤–æ–µ" or "–£–¥–∞—á–∞":
			set {_enchanted} to false
			loop 36 times:
				set {_slotNum} to loop-number - 1
				if {custom.kit.%player%.%{_kitName}%::item.%{_slotNum}%} is set:
					set {_item} to {custom.kit.%player%.%{_kitName}%::item.%{_slotNum}%}
					set {_itemName} to "%type of {_item}%"
					
					if {_itemName} contains "pickaxe" or "shovel" or "axe" or "hoe":
						if name of {_clickedBook} contains "–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å":
							enchant {_item} with efficiency 5
						else if name of {_clickedBook} contains "–®–µ–ª–∫–æ–≤–æ–µ":
							enchant {_item} with silk touch 1
						else if name of {_clickedBook} contains "–£–¥–∞—á–∞":
							enchant {_item} with fortune 3
						set {custom.kit.%player%.%{_kitName}%::item.%{_slotNum}%} to {_item}
						set {_enchanted} to true
			
			if {_enchanted} is true:
				send "&c‚úì –ó–∞—á–∞—Ä–æ–≤–∞–Ω–∏–µ –¥–æ–±–∞–≤–ª–µ–Ω–æ –Ω–∞ –≤—Å–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã!"
			else:
				send "&c‚úñ –°–Ω–∞—á–∞–ª–∞ –¥–æ–±–∞–≤—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã!"
			stop
		
		if name of {_clickedBook} contains "–û—Å—Ç—Ä–æ—Ç–∞" or "–ü–æ—Ä–∞–∂–µ–Ω–∏–µ" or "–û—Ç–¥–∞—á–∞" or "–û–≥–Ω–µ–Ω–Ω—ã–π" or "–î–æ–±—ã—á–∞":
			set {_enchanted} to false
			loop 36 times:
				set {_slotNum} to loop-number - 1
				if {custom.kit.%player%.%{_kitName}%::item.%{_slotNum}%} is set:
					set {_item} to {custom.kit.%player%.%{_kitName}%::item.%{_slotNum}%}
					set {_itemName} to "%type of {_item}%"
					
					if {_itemName} contains "sword" or "axe":
						if name of {_clickedBook} contains "–û—Å—Ç—Ä–æ—Ç–∞":
							enchant {_item} with sharpness 5
						else if name of {_clickedBook} contains "–ü–æ—Ä–∞–∂–µ–Ω–∏–µ":
							enchant {_item} with smite 5
						else if name of {_clickedBook} contains "–û—Ç–¥–∞—á–∞":
							enchant {_item} with knockback 2
						else if name of {_clickedBook} contains "–û–≥–Ω–µ–Ω–Ω—ã–π":
							enchant {_item} with fire aspect 2
						else if name of {_clickedBook} contains "–î–æ–±—ã—á–∞":
							enchant {_item} with looting 3
						set {custom.kit.%player%.%{_kitName}%::item.%{_slotNum}%} to {_item}
						set {_enchanted} to true
			
			if {_enchanted} is true:
				send "&c‚úì –ó–∞—á–∞—Ä–æ–≤–∞–Ω–∏–µ –¥–æ–±–∞–≤–ª–µ–Ω–æ –Ω–∞ –≤—Å–µ –æ—Ä—É–∂–∏–µ!"
			else:
				send "&c‚úñ –°–Ω–∞—á–∞–ª–∞ –¥–æ–±–∞–≤—å –æ—Ä—É–∂–∏–µ!"
			stop
		
		if name of {_clickedBook} contains "–°–∏–ª–∞" or "–ü–ª–∞–º—è" or "–ë–µ—Å–∫–æ–Ω–µ—á–Ω–æ—Å—Ç—å":
			set {_enchanted} to false
			loop 36 times:
				set {_slotNum} to loop-number - 1
				if {custom.kit.%player%.%{_kitName}%::item.%{_slotNum}%} is set:
					set {_item} to {custom.kit.%player%.%{_kitName}%::item.%{_slotNum}%}
					set {_itemName} to "%type of {_item}%"
					
					if {_itemName} contains "bow":
						if name of {_clickedBook} contains "–°–∏–ª–∞":
							enchant {_item} with power 5
						else if name of {_clickedBook} contains "–ü–ª–∞–º—è":
							enchant {_item} with flame 1
						else if name of {_clickedBook} contains "–ë–µ—Å–∫–æ–Ω–µ—á–Ω–æ—Å—Ç—å":
							enchant {_item} with infinity 1
						set {custom.kit.%player%.%{_kitName}%::item.%{_slotNum}%} to {_item}
						set {_enchanted} to true
			
			if {_enchanted} is true:
				send "&c‚úì –ó–∞—á–∞—Ä–æ–≤–∞–Ω–∏–µ –¥–æ–±–∞–≤–ª–µ–Ω–æ –Ω–∞ –≤—Å–µ –ª—É–∫–∏!"
			else:
				send "&c‚úñ –°–Ω–∞—á–∞–ª–∞ –¥–æ–±–∞–≤—å –ª—É–∫!"
			stop
		
		if name of {_clickedBook} contains "–ü—Ä–æ—á–Ω–æ—Å—Ç—å" or "–ü–æ—á–∏–Ω–∫–∞":
			set {_enchanted} to false
			
			if {custom.kit.%player%.%{_kitName}%::helmet} is set:
				set {_helmet} to {custom.kit.%player%.%{_kitName}%::helmet}
				if name of {_clickedBook} contains "–ü—Ä–æ—á–Ω–æ—Å—Ç—å":
					enchant {_helmet} with unbreaking 3
				else if name of {_clickedBook} contains "–ü–æ—á–∏–Ω–∫–∞":
					enchant {_helmet} with mending 1
				set {custom.kit.%player%.%{_kitName}%::helmet} to {_helmet}
				set {_enchanted} to true
			
			if {custom.kit.%player%.%{_kitName}%::chestplate} is set:
				set {_chest} to {custom.kit.%player%.%{_kitName}%::chestplate}
				if name of {_clickedBook} contains "–ü—Ä–æ—á–Ω–æ—Å—Ç—å":
					enchant {_chest} with unbreaking 3
				else if name of {_clickedBook} contains "–ü–æ—á–∏–Ω–∫–∞":
					enchant {_chest} with mending 1
				set {custom.kit.%player%.%{_kitName}%::chestplate} to {_chest}
				set {_enchanted} to true
			
			if {custom.kit.%player%.%{_kitName}%::leggings} is set:
				set {_legs} to {custom.kit.%player%.%{_kitName}%::leggings}
				if name of {_clickedBook} contains "–ü—Ä–æ—á–Ω–æ—Å—Ç—å":
					enchant {_legs} with unbreaking 3
				else if name of {_clickedBook} contains "–ü–æ—á–∏–Ω–∫–∞":
					enchant {_legs} with mending 1
				set {custom.kit.%player%.%{_kitName}%::leggings} to {_legs}
				set {_enchanted} to true
			
			if {custom.kit.%player%.%{_kitName}%::boots} is set:
				set {_boots} to {custom.kit.%player%.%{_kitName}%::boots}
				if name of {_clickedBook} contains "–ü—Ä–æ—á–Ω–æ—Å—Ç—å":
					enchant {_boots} with unbreaking 3
				else if name of {_clickedBook} contains "–ü–æ—á–∏–Ω–∫–∞":
					enchant {_boots} with mending 1
				set {custom.kit.%player%.%{_kitName}%::boots} to {_boots}
				set {_enchanted} to true
			
			loop 36 times:
				set {_slotNum} to loop-number - 1
				if {custom.kit.%player%.%{_kitName}%::item.%{_slotNum}%} is set:
					set {_item} to {custom.kit.%player%.%{_kitName}%::item.%{_slotNum}%}
					if name of {_clickedBook} contains "–ü—Ä–æ—á–Ω–æ—Å—Ç—å":
						enchant {_item} with unbreaking 3
					else if name of {_clickedBook} contains "–ü–æ—á–∏–Ω–∫–∞":
						enchant {_item} with mending 1
					set {custom.kit.%player%.%{_kitName}%::item.%{_slotNum}%} to {_item}
					set {_enchanted} to true
			
			if {_enchanted} is true:
				send "&c‚úì –ó–∞—á–∞—Ä–æ–≤–∞–Ω–∏–µ –¥–æ–±–∞–≤–ª–µ–Ω–æ –Ω–∞ –≤—Å–µ –ø—Ä–µ–¥–º–µ—Ç—ã!"
			else:
				send "&c‚úñ –°–Ω–∞—á–∞–ª–∞ –¥–æ–±–∞–≤—å –ø—Ä–µ–¥–º–µ—Ç—ã!"
			stop
	
	if {_inv} is "&7üì¶ –¢–µ–∫—É—â–∏–π –ö–∏—Ç":
		cancel event
		set {_slot} to index of event-slot
		set {_kitName} to {kit.editing.%player%}
		
		if {_slot} is 40:
			playClickSound(player)
			close player's inventory
			wait 2 ticks
			openKitEditor(player, {_kitName})
			stop
		
		if {_slot} is 36:
			playErrorSound(player)
			delete {custom.kit.%player%.%{_kitName}%::helmet}
			delete {custom.kit.%player%.%{_kitName}%::chestplate}
			delete {custom.kit.%player%.%{_kitName}%::leggings}
			delete {custom.kit.%player%.%{_kitName}%::boots}
			loop 36 times:
				delete {custom.kit.%player%.%{_kitName}%::item.%loop-number - 1%}
			send "&c‚úñ –ö–∏—Ç –æ—á–∏—â–µ–Ω!"
			wait 2 ticks
			showCurrentKit(player)
			stop

function giveKit(p: player, kitID: text):
	clear {_p}'s inventory
	
	if {_kitID} starts with "custom_":
		set {_kitName} to {_kitID}
		replace all "custom_" with "" in {_kitName}
		
		if {custom.kit.%{_p}%.%{_kitName}%::helmet} is set:
			set {_p}'s helmet to {custom.kit.%{_p}%.%{_kitName}%::helmet}
		if {custom.kit.%{_p}%.%{_kitName}%::chestplate} is set:
			set {_p}'s chestplate to {custom.kit.%{_p}%.%{_kitName}%::chestplate}
		if {custom.kit.%{_p}%.%{_kitName}%::leggings} is set:
			set {_p}'s leggings to {custom.kit.%{_p}%.%{_kitName}%::leggings}
		if {custom.kit.%{_p}%.%{_kitName}%::boots} is set:
			set {_p}'s boots to {custom.kit.%{_p}%.%{_kitName}%::boots}
		
		loop integers from 0 to 35:
			if {custom.kit.%{_p}%.%{_kitName}%::item.%loop-value%} is set:
				set slot loop-value of {_p}'s inventory to {custom.kit.%{_p}%.%{_kitName}%::item.%loop-value%}
		
		send "&c‚öî –¢—ã –ø–æ–ª—É—á–∏–ª –∫–∞—Å—Ç–æ–º–Ω—ã–π –∫–∏—Ç: &6%{_kitName}%" to {_p}
		stop
	
	if {_kitID} is "netherite":
		set {_helmet} to netherite helmet
		enchant {_helmet} with protection 4
		enchant {_helmet} with unbreaking 3
		set {_p}'s helmet to {_helmet}

		set {_chestplate} to netherite chestplate
		enchant {_chestplate} with protection 4
		enchant {_chestplate} with unbreaking 3
		set {_p}'s chestplate to {_chestplate}

		set {_leggings} to netherite leggings
		enchant {_leggings} with protection 4
		enchant {_leggings} with unbreaking 3
		set {_p}'s leggings to {_leggings}

		set {_boots} to netherite boots
		enchant {_boots} with protection 4
		enchant {_boots} with unbreaking 3
		set {_p}'s boots to {_boots}

		set {_sword} to netherite sword
		enchant {_sword} with sharpness 5
		enchant {_sword} with unbreaking 3
		set slot 0 of {_p}'s inventory to {_sword}

		set {_pickaxe} to netherite pickaxe
		enchant {_pickaxe} with efficiency 5
		enchant {_pickaxe} with unbreaking 3
		set slot 1 of {_p}'s inventory to {_pickaxe}

		set {_shovel} to netherite shovel
		enchant {_shovel} with efficiency 5
		enchant {_shovel} with unbreaking 3
		set slot 2 of {_p}'s inventory to {_shovel}

		set {_bow} to bow
		enchant {_bow} with power 5
		enchant {_bow} with unbreaking 3
		set slot 3 of {_p}'s inventory to {_bow}

		set slot 4 of {_p}'s inventory to 64 golden apples
		set slot 5 of {_p}'s inventory to 4 enchanted golden apples
		set slot 6 of {_p}'s inventory to 9 totem of undying
		set slot 8 of {_p}'s inventory to 64 obsidian
		set slot 9 of {_p}'s inventory to 64 end crystal
		set slot 10 of {_p}'s inventory to 16 ender pearl
		set slot 11 of {_p}'s inventory to 64 chorus fruit
		set slot 12 of {_p}'s inventory to 64 arrow
		set slot 13 of {_p}'s inventory to 64 cobweb
		set {_p}'s offhand tool to totem of undying
		
		send "&7‚öî –¢—ã –ø–æ–ª—É—á–∏–ª —Å–µ—Ç: &f–ù–µ–∑–µ—Ä–∏—Ç–æ–≤—ã–π —Å–µ—Ç" to {_p}
		stop
	
	if {_kitID} is "iron":
		set {_p}'s helmet to iron helmet
		set {_p}'s chestplate to iron chestplate
		set {_p}'s leggings to iron leggings
		set {_p}'s boots to iron boots
		set slot 0 of {_p}'s inventory to iron sword
		set slot 1 of {_p}'s inventory to bow
		set slot 2 of {_p}'s inventory to 16 arrow
		set slot 3 of {_p}'s inventory to 16 cooked beef
		set slot 4 of {_p}'s inventory to 3 golden apple
		set {_p}'s offhand tool to shield
		
		send "&7‚öî –¢—ã –ø–æ–ª—É—á–∏–ª —Å–µ—Ç: &f–ñ–µ–ª–µ–∑–Ω—ã–π —Å–µ—Ç" to {_p}
		stop
	
	if {_kitID} is "archer":
		set {_p}'s helmet to chainmail helmet
		set {_p}'s chestplate to chainmail chestplate
		set {_p}'s leggings to chainmail leggings
		set {_p}'s boots to chainmail boots
		set slot 0 of {_p}'s inventory to stone sword
		set slot 1 of {_p}'s inventory to bow
		set slot 2 of {_p}'s inventory to 64 arrow
		set slot 3 of {_p}'s inventory to 64 arrow
		set slot 4 of {_p}'s inventory to 16 cooked beef
		set slot 5 of {_p}'s inventory to 3 golden apple
		set {_p}'s offhand tool to 64 arrow
		
		send "&7‚öî –¢—ã –ø–æ–ª—É—á–∏–ª —Å–µ—Ç: &f–õ—É—á–Ω–∏–∫" to {_p}
		stop
	
	send "&c‚úñ –ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π –∫–∏—Ç: %{_kitID}%" to {_p}

command /clearkits:
	permission: op
	trigger:
		delete {custom.kits.%player%::*}
		
		loop 100 times:
			delete {custom.kit.%player%.test%loop-number%::*}
			delete {custom.kit.%player%.kit%loop-number%::*}
			delete {custom.kit.%player%.eui::*}
			delete {custom.kit.%player%.test1::*}
			delete {custom.kit.%player%.test2::*}
			delete {custom.kit.%player%.none::*}
		
		delete {player.active.kit.%player%}
		
		send "&c‚úì –í—Å–µ –∫–∏—Ç—ã —É–¥–∞–ª–µ–Ω—ã!"
		send "&7–¢–µ–ø–µ—Ä—å —Å–æ–∑–¥–∞–π –Ω–æ–≤—ã–π –∫–∏—Ç —á–µ—Ä–µ–∑ /mykits"